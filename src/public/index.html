<!doctype html>
<html ng-app="app" lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Angular App</title>
		<link rel="icon" type="image/x-icon" href="/img/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<base href="/">
	</head>
	<body>
		<!--List of elements-->
		<script type="text/ng-template" id="./list.html">
		    <ul dnd-list="list">
		        <li ng-repeat="item in list"
		            dnd-draggable="item"
		            dnd-effect-allowed="move"
		            dnd-moved="list.splice($index, 1)"
		            dnd-selected="models.selected = item"
		            ng-class="{selected: models.selected === item}"
		            ng-include="'./item.html'">
		        </li>
		    </ul>
		</script>

		<!--Generic Item-->
		<script type="text/ng-template" id="./item.html">
		    <div class="container-element box box-blue">
		    	<md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="3:1" md-gutter="12px" md-gutter-gt-sm="8px" >
				    <md-grid-tile md-colspan-xs="3">
				        <md-input-container class="md-block">
							<label>Property name</label>
							<input ng-model="item.$name" required>
						</md-input-container>
					</md-grid-tile>
					<md-grid-tile md-colspan-xs="1">
						<md-input-container class="md-block md-valign">
							<md-switch class="md-primary" name="required" ng-model="item.$required">
								<label>Required</label>
					        </md-switch>
						</md-input-container>
					</md-grid-tile>
					<md-grid-tile md-colspan-xs="1">
						<md-input-container class="md-block md-valign">
							<md-switch class="md-primary" name="listOf" ng-model="item.$listOf">
								<label>List/Array</label>
					        </md-switch>
						</md-input-container>
					</md-grid-tile>
					<md-grid-tile md-colspan-xs="3" ng-show="item.$listOf">
						<md-input-container class="md-block" ng-init="item.minItems=0">
					        <label>Min Occurrence</label>
					        <input required type="number" step="1" name="minItemss" ng-model="item.minItems" min="0" ng-max="item.maxItems||999"/>
							<div ng-messages="item.minItems.$error" multiple>
								<div ng-message="min">
									The minimum possible should be zero
								</div>
								<div ng-message="max">
									{{item.minItems.$viewValue}} is greater than {{item.maxItems}} (max occurence).
								</div>
							</div>
					    </md-input-container>
					</md-grid-tile>
					<md-grid-tile md-colspan-xs="3" ng-show="item.$listOf">
					    <md-input-container class="md-block">
					        <label>Max Occurrence</label>
					        <input placeholder="&infin;" type="number" step="1" name="maxItemss" ng-model="item.maxItems" max="999" ng-min="item.minItems||999"/>
							<div ng-messages="item.maxItems.$error" multiple>
								<div ng-message="max">
									The maximum possible should be less than 999
								</div>
								<div ng-message="min">
									{{item.maxItems.$viewValue}} is lower than {{item.minItems}} (min occurence).
								</div>
							</div>
					    </md-input-container>
					</md-grid-tile>
					<md-grid-tile md-colspan-xs="3">
						<md-input-container>
	          				<label>Type</label>
							<md-select ng-model="item.type">
								<md-option value="object">
									Object
								</md-option>
								<md-option value="string" ng-disabled="item.$children.length>0">
									String
								</md-option>
								<md-option value="integer" ng-disabled="item.$children.length>0">
									Integer
								</md-option>
								<md-option value="number" ng-disabled="item.$children.length>0">
									Number
								</md-option>
								<md-option value="boolean" ng-disabled="item.$children.length>0">
									Boolean
								</md-option>
								<md-option value="null" ng-disabled="item.$children.length>0">
									Null
								</md-option>
							</md-select>
						</md-input-container>
					</md-grid-tile>
				</md-grid-list>
		        <div ng-include="'./'+item.type+'.html'"></div>
		        <div class="clearfix"></div>
		    </div>
		</script>

		<!-- Object -->
		<script type="text/ng-template" id="./object.html">
			<md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="3:1" md-gutter="12px" md-gutter-gt-sm="8px" >
				<md-grid-tile md-colspan-xs="1">
					<md-input-container class="md-block md-valign">
				        <label>Additional properties</label>
			    		<md-select ng-model="item.additionalProperties" placeholder="Allowed">
							<md-option ng-value="true" selected>
								Allowed
							</md-option>
							<md-option ng-value="false">
								Not allowed
							</md-option>
							<md-option ng-value="{type:'string'}">
								String
							</md-option>
							<md-option value="{type:'integer'}">
								Integer
							</md-option>
							<md-option value="{type:'number'}">
								Number
							</md-option>
							<md-option value="{type:'boolean'}">
								Boolean
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
			</md-grid-list>
		    <div class="dropzone" ng-repeat="list in [item.$children]" ng-include="'./list.html'"></div>
		</script>

		<!-- Integer -->
		<script type="text/ng-template" id="./integer.html">
		    <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="3:1" md-gutter="12px" md-gutter-gt-sm="8px" >
			    <md-grid-tile md-colspan-xs="3">
			    	<md-input-container class="md-block">
				        <label>Multiple of</label>
				        <input placeholder="none" type="number" step="1" name="multipleOf" ng-model="item.multipleOf"/>
				    </md-input-container>
			    </md-grid-tile>
			    <md-grid-tile md-colspan-xs="2">
			    	<md-input-container class="md-block md-valign">
				        <label>Value must be</label>
			    		<md-select ng-model="item.exclusiveMinimum">
							<md-option ng-value="true">
								&gt;
							</md-option>
							<md-option ng-value="false" selected>
								&ge;
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
			    <md-grid-tile md-colspan-xs="3">
					<md-input-container class="md-block">
				        <label>Min value</label>
				        <input placeholder="- &infin;" type="number" step="1" name="minValue" ng-model="item.minimum" ng-max="item.maximum"/>
						<div ng-messages="item.minimum.$error">
							<div ng-message="max">
								{{item.minimum.$viewValue}} is greater than {{item.maximum}} (max value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
			    <md-grid-tile md-colspan-xs="2">
			    	<md-input-container class="md-block md-valign">
				        <label>Value must be</label>
			    		<md-select ng-model="item.exclusiveMaximum">
							<md-option ng-value="true">
								&lt;
							</md-option>
							<md-option ng-value="false" selected>
								&le;
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
				<md-grid-tile md-colspan-xs="3">
				    <md-input-container class="md-block">
				        <label>Max value</label>
				        <input placeholder="&infin;" type="number" step="1" name="maxValue" ng-model="item.maximum" ng-min="item.minimum"/>
						<div ng-messages="item.maximum.$error">
							<div ng-message="min">
								{{item.maximum.$viewValue}} is lower than {{item.minimum}} (min value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
			</md-grid-list>	
		</script>

		<!-- Numeric -->
		<script type="text/ng-template" id="./number.html">
		    <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="3:1" md-gutter="12px" md-gutter-gt-sm="8px" >
			    <md-grid-tile md-colspan-xs="3">
			    	<md-input-container class="md-block">
				        <label>Multiple of</label>
				        <input placeholder="none" type="number" step="0.1" name="multipleOf" ng-model="item.multipleOf"/>
				    </md-input-container>
			    </md-grid-tile>
			    <md-grid-tile md-colspan-xs="2">
			    	<md-input-container class="md-block md-valign">
				        <label>Value must be</label>
			    		<md-select ng-model="item.exclusiveMinimum">
							<md-option ng-value="true">
								&gt;
							</md-option>
							<md-option ng-value="false" selected>
								&ge;
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
			    <md-grid-tile md-colspan-xs="3">
					<md-input-container class="md-block">
				        <label>Min value</label>
				        <input placeholder="- &infin;" type="number" step="0.1" name="minValue" ng-model="item.minimum" ng-max="item.maximum"/>
						<div ng-messages="item.minimum.$error">
							<div ng-message="max">
								{{item.minimum.$viewValue}} is greater than {{item.maximum}} (max value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
			    <md-grid-tile md-colspan-xs="2">
			    	<md-input-container class="md-block md-valign">
				        <label>Value must be</label>
			    		<md-select ng-model="item.exclusiveMaximum">
							<md-option ng-value="true">
								&lt;
							</md-option>
							<md-option ng-value="false" selected>
								&le;
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
				<md-grid-tile md-colspan-xs="3">
				    <md-input-container class="md-block">
				        <label>Max value</label>
				        <input placeholder="&infin;" type="number" step="0.1" name="maxValue" ng-model="item.maximum" ng-min="item.minimum"/>
						<div ng-messages="item.maximum.$error">
							<div ng-message="min">
								{{item.maximum.$viewValue}} is lower than {{item.minimum}} (min value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
			</md-grid-list>	
		</script>

		<!-- String -->
		<script type="text/ng-template" id="./string.html">
		    <md-grid-list md-cols-xs="1" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6" md-row-height="3:1" md-gutter="12px" md-gutter-gt-sm="8px" >
			    <md-grid-tile md-colspan-xs="2">
					<md-input-container class="md-block">
				        <label>Min length</label>
				        <input placeholder="0" type="number" step="1" name="minLength" ng-model="item.minLength" ng-min="0" ng-max="item.maxLength"/>
						<div ng-messages="item.minimum.$error" multiple>
							<div ng-message="min">
								Min Length must be greater than or equal to 0.
							</div>
							<div ng-message="max">
								{{item.minLength.$viewValue}} is greater than {{item.maxLength}} (max value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
				<md-grid-tile md-colspan-xs="2">
				    <md-input-container class="md-block">
				        <label>Max length</label>
				        <input placeholder="&infin;" type="number" step="1" name="maxLength" ng-model="item.maxLength" ng-min="item.minLength"/>
						<div ng-messages="item.minimum.$error" multiple>
							<div ng-message="min">
								{{item.maxLength.$viewValue}} is lower than {{item.minLength}} (min value).
							</div>
						</div>
				    </md-input-container>
				</md-grid-tile>
				<md-grid-tile md-colspan-xs="4">
			        <md-input-container class="md-block">
						<label>Regular expression pattern</label>
						<input ng-model="item.pattern">
					</md-input-container>
				</md-grid-tile>
			    <md-grid-tile md-colspan-xs="2">
			    	<md-input-container class="md-block md-valign">
				        <label>Format</label>
			    		<md-select ng-model="item.format" placeholder="Generic">
			    			<md-option ng-value="" selected>
								Generic
							</md-option>
							<md-option ng-value="'date-time'">
								Date/Time
							</md-option>
							<md-option ng-value="'email'">
								Email
							</md-option>
							<md-option ng-value="'hostname'">
								Host name
							</md-option>
							<md-option ng-value="'ipv4'">
								ipv4
							</md-option>
							<md-option ng-value="'ipv6'">
								ipv6
							</md-option>
							<md-option ng-value="'uri'">
								URI
							</md-option>
						</md-select>
					</md-input-container>
				</md-grid-tile>
			</md-grid-list>	
		</script>

		<!-- Boolean -->
		<script type="text/ng-template" id="./boolean.html">
		</script>
		<!-- Null -->
		<script type="text/ng-template" id="./null.html">
		</script>

	  	<app></app>
	</body>
</html>